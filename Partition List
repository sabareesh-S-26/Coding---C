 struct ListNode {
      int val;
      struct ListNode *next;
  };
struct ListNode* partition(struct ListNode* head, int x) {
    struct ListNode lessDummy = {0, NULL};
    struct ListNode greaterDummy = {0, NULL};
    
    struct ListNode *less = &lessDummy, *greater = &greaterDummy;
    
    while (head) {
        if (head->val < x) {
            less->next = head;
            less = less->next;
        } else {
            greater->next = head;
            greater = greater->next;
        }
        head = head->next;
    }
    
    less->next = greaterDummy.next;
    greater->next = NULL;
    
    return lessDummy.next;
}
